file(GLOB ProtoFiles "${CMAKE_CURRENT_SOURCE_DIR}/*proto")
PROTOBUF_GENERATE_CPP(ProtoSources ProtoHeaders ${ProtoFiles})
ADD_LIBRARY(proto ${ProtoHeaders} ${ProtoSources})
target_include_directories(proto PUBLIC ${CMAKE_CURRENT_BINARY_DIR})
target_link_libraries(proto ${PROTOBUF_LIBRARIES})